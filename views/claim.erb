<!DOCTYPE html>
<html>
<head>
  <title>Reclamos</title>
  <link rel="stylesheet" href="https://bootswatch.com/5/litera/bootstrap.min.css">
  <script src="https://kit.fontawesome.com/8a2a68e2d5.js" crossorigin="anonymous"></script>
  <link rel="icon" href="/icon.ico" type="image/x-icon">
  <link rel="stylesheet" type="text/css" href="/css/claim.css">
</head>
<body>
  <div class="container d-flex justify-content-center align-items-center">
    <form id="claim-form" action="/claim" method="POST">
      <div class="text-center mt-5">
        <h1>Sección de reclamos</h1>
      </div>
      <div class="textarea-container text-center mt-5">
        <textarea class="form-control w-100 border border-dark"
                  id="description"
                  name="description"
                  rows="5"
                  style="height: 300px; background: #e0e0e0;"
                  placeholder="Escriba aquí..."></textarea>
      </div>
      <div class="d-flex justify-content-center mt-5">
        <button class="btn btn-danger fs-6 me-4" type="button" onclick="showModal()">
          Enviar <i class="fa-solid fa-paper-plane"></i>
        </button>
        <a class="btn btn-secondary fs-6" href="/protected_page">
            Volver <i class="fa-solid fa-arrow-rotate-right"></i>
        </a>
      </div>
    </form>
  </div>

  <!-- Modal -->
  <div class="modal fade"
       id="confirmModal"
       aria-hidden="true"
       aria-labelledby="confirmModalLabel"
       tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmModalLabel">
            Confirmar envío
          </h5>
          <button type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close">
          </button>
        </div>
        <div class="modal-body">
          <p class="fs-5">Su reclamo será enviado, ¿Desea continuar?</p>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-success me-3 fs-6" onclick="submitForm()">
            Enviar
          </button>
          <button type="button" class="btn btn-secondary fs-6" data-bs-dismiss="modal">
            Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>
  <script>
    function showModal() {
      var description = document.getElementById("description").value;
      if (description.trim() == "") {
        window.alert("Por favor, ingrese su reclamo.");
      } else {
        var confirmModal = new bootstrap.Modal(document.getElementById('confirmModal'));
        confirmModal.show();
      }
    }

    function submitForm() {
      document.getElementById("claim-form").submit();
    }
  </script>

  <!-- JS dependencie for Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>
</body>
</html>